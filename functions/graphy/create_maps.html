<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>functions.graphy.create_maps API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#567eb9;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#f58518}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>functions.graphy.create_maps</code></h1>
</header>
<section id="section-intro">
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="functions.graphy.create_maps.gfs_Maps"><code class="flex name class">
<span>class <span class="ident">gfs_Maps</span></span>
<span>(</span><span>info: dict, variables: list, map_scope: <a title="functions.graphy.map_helper.Map_Scope_Enum" href="map_helper.html#functions.graphy.map_helper.Map_Scope_Enum">Map_Scope_Enum</a>, map_level: <a title="functions.graphy.map_helper.Map_LOD_Enum" href="map_helper.html#functions.graphy.map_helper.Map_LOD_Enum">Map_LOD_Enum</a>, breaks: list = None, exclusion_filter=[], subplot_columns: int = 3, language: str = 'de', disable_hover_info: bool = False, background_map_color: str = '#999', projection: str = 'mercator', show_mean: bool = False, show_count: bool = False, show_total: bool = False, show_legend: bool = True, legend_labels_rename: dict[str, str] = None, left_labels_rename: dict[str, str] = None, break_labels_rename: dict[str, str] = None, legend_break: list = None, order_by: dict = None, special_variables: list[int] = [96, 97, 98, 99999996, 99999997, 99999998], standard_arguments: dict = None, title_custom_text: str = 'auto', subtitle_custom_text: str = 'auto', tag_custom_text: str = 'auto', legend_title_custom_text: str = 'auto', title_position: int = 1, subtitle_position: int = 2, color_theme: str = 'auto', color_type: str = 'single_hue', color_direction: str = 'backward', color_custom: list[str] = None, legend_position: str = 'right', legend_labels_size: float = 14, weight: str = 'auto', select_variable_levels: list[int] = None, tag_position: int = 3, left_labels_wrap: int = 50, colorbar_length: float = 0.7, colorbar_x: float = 0.9, colorbar_y: float = 0.5, tag_add_before: str = '', tag_add_after: str = '', subtitle_add_before: str = '', subtitle_add_after: str = '', left_labels_remove_before: str = '', left_labels_remove_after: str = '', title_remove_before: str = '', title_remove_after: str = '', label_size: int = 16, select_min_count: int = 0, save_figure: bool = True, df: pandas.core.frame.DataFrame = 'auto', meta: pyreadstat._readstat_parser.metadata_container = 'auto')</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a map chart</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>info</code></strong> :&ensp;<code>dict</code></dt>
<dd>A dictionary with info about the presentation. Has info like number of slides,
presentation name and the presentation object itself ~ usually info</dd>
<dt><strong><code>variables</code></strong> :&ensp;<code>list</code></dt>
<dd>A list of variables. If multiple are added, function doesn't accept any breaks.
~ ['AW2'] /['AW1_1', 'AW1_2', &hellip;]</dd>
<dt><strong><code>map_scope</code></strong> :&ensp;<code>Map_Scope_Enum</code></dt>
<dd>defines a preset for the scope of the map eg. EU with all its countries etc.</dd>
<dt><strong><code>map_level</code></strong> :&ensp;<code>Map_LOD_Enum</code></dt>
<dd>defines level of detail for the map. eg. metropolitan areas, country or others</dd>
<dt><strong><code>breaks</code></strong> :&ensp;<code>list</code>, optional</dt>
<dd>A list of breaks. ~ ['alter_break', 'sex_break']. Defaults to None.</dd>
<dt><strong><code>exclusion_filter</code></strong> :&ensp;<code>list</code></dt>
<dd>a list of string objects representing NUTS_ID's to exlude in the maps,
example: ["CH025", "CH022", "CH024"], see: <a href="https://ec.europa.eu/eurostat/web/nuts/nuts-maps">https://ec.europa.eu/eurostat/web/nuts/nuts-maps</a> for
the available ID's</dd>
<dt><strong><code>subplot_columns</code></strong> :&ensp;<code>int</code></dt>
<dd>count of subplotcolumns to use if there are multiple maps</dd>
<dt><strong><code>language</code></strong> :&ensp;<code>str</code></dt>
<dd>language to label the shapes, must be present in translation json</dd>
<dt><strong><code>disable_hover_info</code></strong> :&ensp;<code>bool</code></dt>
<dd>disables hover info on shapes</dd>
<dt><strong><code>background_map_color</code></strong> :&ensp;<code>str</code></dt>
<dd>hex color code to set the background color of map shapes, default is "#999"</dd>
<dt><strong><code>projection</code></strong> :&ensp;<code>str</code></dt>
<dd>projection type as a string or None ('equirectangular', 'mercator', 'orthographic',
'natural earth', 'kavrayskiy7', 'miller', 'robinson', 'eckert4', 'azimuthal equal area',
'azimuthal equidistant', 'conic equal area', 'conic conformal', 'conic equidistant', 'gnomonic',
'stereographic', 'mollweide', 'hammer', 'transverse mercator', 'albers usa', 'winkel tripel',
'aitoff' and 'sinusoidal')</dd>
<dt><strong><code>show_mean</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Turns uses the mean of the variable as x-value and changes scale type
from percentage to mean. ~ True. Defaults to False.</dd>
<dt><strong><code>show_count</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Turns counts in variable labels on and off. ~ True. Defaults to False.</dd>
<dt><strong><code>show_total</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Turns total bar on and off. ~ False. Defaults to True.</dd>
<dt><strong><code>show_legend</code></strong> :&ensp;<code>bool</code>, optional</dt>
<dd>Turns legend on and off. ~ False. Defaults to True.</dd>
<dt><strong><code>legend_labels_rename</code></strong> :&ensp;<code>dict[str, str]</code>, optional</dt>
<dd>Renames the labels of the different legend levels.
~ {'old_name', 'new_name'}. Defaults to None.</dd>
<dt><strong><code>left_labels_rename</code></strong> :&ensp;<code>dict[str, str]</code>, optional</dt>
<dd>Renames the labels of the different break levels.
~ {'old_name', 'new_name'}. Defaults to None.</dd>
<dt><strong><code>break_labels_rename</code></strong> :&ensp;<code>dict[str, str]</code>, optional</dt>
<dd>Renames the breaks. ~ {'old_name': 'new_name'}.
Defaults to None.</dd>
<dt><strong><code>legend_break</code></strong> :&ensp;<code>list</code>, optional</dt>
<dd>A list of breaks. This is used to create the legend break if either
"mean" == True or "select_variable_levels" has exactly one item ~ ['alter_break'] / [['alter_break']].
Defaults to None.</dd>
<dt><strong><code>order_by</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>A dictionary. Orders the plot by any variable in the x data frame.
~ {'mean': 'asc'} / {1: 'desc'}. Defaults to None.</dd>
<dt><strong><code>special_variables</code></strong> :&ensp;<code>list[int]</code>, optional</dt>
<dd>A list variable levels that will be treated differently.
They will appear gray in the graph and have not effect on the mean calculation. ~ [16, 99999997].
Defaults to [96, 97, 98, 99999996, 99999997, 99999998].</dd>
<dt><strong><code>standard_arguments</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Adds some standard arguments that normally don't need to be changed.
Defaults to None.</dd>
<dt><strong><code>title_custom_text</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Creates custom title text, if automatic text isn't desired.
Defaults to 'auto'.</dd>
<dt><strong><code>subtitle_custom_text</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Creates custom subtitle text, if automatic text isn't desired.
Defaults to 'auto'.</dd>
<dt><strong><code>tag_custom_text</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Creates custom tag text, if automatic text isn't desired. Defaults to
'auto'.
legend_title_custom_text (str, optional): Creates a custom legend title, if title is desired.
Defaults to 'auto'.</dd>
<dt><strong><code>legend_title_custom_text</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Creates a custom legend title, if title is desired.
Defaults to 'auto'.</dd>
<dt><strong><code>title_position</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Sets the position of the title text.
~ 0 = don't show, 1, 2, 3 are possible positions on plot. Defaults to 1.</dd>
<dt><strong><code>subtitle_position</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Sets the position of the subtitle text. ~ 0 = don't show, 1, 2, 3 are
possible positions on plot. Defaults to 2.</dd>
<dt><strong><code>color_theme</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Sets color theme for graph. ~ 'test', 'gfs'. Defaults to 'auto'.</dd>
<dt><strong><code>color_type</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Sets color value type. ~ 'diverging', 'single_hue'. Defaults to 'groups'.</dd>
<dt><strong><code>color_direction</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Sets direction of color pattern. ~ 'backward'. Defaults to 'forward'.</dd>
<dt><strong><code>color_custom</code></strong> :&ensp;<code>list[str]</code>, optional</dt>
<dd>Uses custom colors ~ ['#131366', '#454578']. Defaults to None.
value_labels_show_min (float, optional): Sets threshold showing labels by %. Use 0 to show all labels
and 100 to show none. Use numbers between for a mix. Defaults to 0.</dd>
<dt><strong><code>legend_position</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Sets the position of the legend. ~ 'bottom'. Defaults to 'right'.</dd>
<dt><strong><code>legend_labels_size</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>Sets the size of legend. Defaults to 14.</dd>
<dt><strong><code>weight</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Turns weight on if weight variable name is added. ~ "gewicht". Defaults to 'auto'.</dd>
<dt><strong><code>select_variable_levels</code></strong> :&ensp;<code>list[int]</code>, optional</dt>
<dd>A list variable levels used to select and order variables.
~ [2, 1, 99999997]. Defaults to None.</dd>
<dt><strong><code>tag_add_before</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Adds text before the tag text. ~ "Meine Zusatzinfo, ', " adds this string
before tag. Defaults to ''.</dd>
<dt><strong><code>tag_add_after</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Adds text after the tag text. ~ "Meine Zusatzinfo, ', " adds this string
after tag. Defaults to ''.</dd>
<dt><strong><code>tag_position</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Sets the position of the tag text. ~ 0 = don't show, 1, 2, 3 are
possible positions on plot. Defaults to 3.</dd>
<dt><strong><code>left_labels_wrap</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Wraps the variable labels. Defaults to 50.</dd>
<dt><strong><code>colorbar_length</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>scales the colorbar length. Defaults to 0.7.</dd>
<dt><strong><code>colorbar_x</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>changes the x coordinate of the colorbar. Defaults to 0.9.</dd>
<dt><strong><code>colorbar_y</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>changes the y coordinate of the colorbar. Defaults to 0.5.</dd>
<dt><strong><code>subtitle_add_before</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Adds text before the tag text. ~ "Filter: F3 = 'Ja', " adds this
string before tag. Defaults to ''.</dd>
<dt><strong><code>subtitle_add_after</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Adds text after the tag text. ~ "Filter: F3 = 'Ja', " adds this
string after tag. Defaults to ''.</dd>
<dt><strong><code>left_labels_remove_before</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Removes the label text before the given string. ~ "? "
deletes everything up until and including the question mark. Defaults to ''.</dd>
<dt><strong><code>left_labels_remove_after</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Removes the label text after the given string. ~ ". Bitte"
deletes everything after and including the punctuation mark. Defaults to ''.</dd>
<dt><strong><code>title_remove_before</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Removes the label text before the given string. ~ "? "
deletes everything up until and including the question mark. Defaults to ''.</dd>
<dt><strong><code>title_remove_after</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Removes the label text after the given string. ~ ". Bitte" deletes
everything after and including the punctuation mark that. Defaults to ''.</dd>
<dt><strong><code>label_size</code></strong> :&ensp;<code>float</code>, optional</dt>
<dd>Sets the size of labels. Defaults to 16.</dd>
<dt><strong><code>select_min_count</code></strong> :&ensp;<code>int</code>, optional</dt>
<dd>Selects all bars with higher count than given. ~ 10 means that only bars
with more than 10 observations will be selected. Defaults to 0.</dd>
</dl></div>
<h3>Methods</h3>
<dl>
<dt id="functions.graphy.create_maps.gfs_Maps.clip_coordinates"><code class="name flex">
<span>def <span class="ident">clip_coordinates</span></span>(<span>self, unclipped_shapes: <a title="functions.graphy.map_helper.Map_Scope_Enum" href="map_helper.html#functions.graphy.map_helper.Map_Scope_Enum">Map_Scope_Enum</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>clips coordinates of background to a preset for the scope of the map and returns the background shape</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>scope</code></strong> :&ensp;<code>Map_Scope_Enum</code></dt>
<dd>Enum to define the preset (EU or CH)</dd>
</dl></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.create_map_figure"><code class="name flex">
<span>def <span class="ident">create_map_figure</span></span>(<span>self, foreground_shapes: geopandas.geodataframe.GeoDataFrame, clipped_foreground_shapes: geopandas.geodataframe.GeoDataFrame)</span>
</code></dt>
<dd>
<div class="desc"><p>creates map figures and combines background and foreground shapes with each other</p>
<h2 id="args">Args</h2>
<p>foreground_shapes (:gpd.GeoDataFrame):geopandas Dataframe with the foreground shapes data
clipped_foreground_shapes (:gpd.GeoDataFrame):geopandas Dataframe with the clipped foreground shapes data</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>go.Figure</code></dt>
<dd>plotly Figure with map objects</dd>
</dl></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.create_maps"><code class="name flex">
<span>def <span class="ident">create_maps</span></span>(<span>self) ‑> Optional[tuple]</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a map chart
Returns:
Optional[tuple]: returns df and meta objects if return_data is True</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.create_maps_df"><code class="name flex">
<span>def <span class="ident">create_maps_df</span></span>(<span>self) ‑> pandas.core.frame.DataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>creates dataframe for a map graphic</p>
<p>Returns:
pd.DataFrame: returns pandas dataframe for map</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.get_foreground_shapes"><code class="name flex">
<span>def <span class="ident">get_foreground_shapes</span></span>(<span>self, resolution='03') ‑> geopandas.geodataframe.GeoDataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>gets foreground shape for the maps</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>resolution</code></strong> :&ensp;<code>str</code></dt>
<dd>resolution size of the standard "NUTS" shapefiles - possible values are 03,10,20,
default is 03</dd>
</dl>
<p>Returns:
gpd.GeoDataFrame: returns filtered geopandas dataframe by level and scope</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.get_translations"><code class="name flex">
<span>def <span class="ident">get_translations</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>gets translation json for maps and map objects for the map scope
Returns:
str: json string with all map objects</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.init_shape_file"><code class="name flex">
<span>def <span class="ident">init_shape_file</span></span>(<span>self, resolution, file=None) ‑> geopandas.geodataframe.GeoDataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>reads shapefile from the file system and loads it into a geopandas dataframe</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>resolution</code></strong> :&ensp;<code>str</code></dt>
<dd>resolution size of the standard "NUTS" shapefiles - possible values are 03,10,20</dd>
<dt><strong><code>file</code></strong> :&ensp;<code>str</code></dt>
<dd>file path to your own shapefile if you need it</dd>
</dl>
<p>Returns:
gpd.GeoDataFrame: returns geopandas dataframe</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_Maps.shape_clipping"><code class="name flex">
<span>def <span class="ident">shape_clipping</span></span>(<span>self, foreground_shapes: geopandas.geodataframe.GeoDataFrame, exclusion_filter: list) ‑> geopandas.geodataframe.GeoDataFrame</span>
</code></dt>
<dd>
<div class="desc"><p>removes shapes with a list of NUTS ID objects</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>foreground_shapes</code></strong> :&ensp;<code>gpd.GeoDataFrame</code></dt>
<dd>shapes to be used in the map plot</dd>
</dl>
<p>exclusion_filter (list(str)): list of NUTS ID objects to remove
Returns:
gpd.GeoDataFrame: returns clipped geopandas dataframe</p></div>
</dd>
</dl>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten"><code class="flex name class">
<span>class <span class="ident">gfs_maps_kloten</span></span>
<span>(</span><span>shapefile_path, outline_shapefile, df, frage, weight=None, multi_response=False, fixed_range=True, exclude_values=None, hide_quartier=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Initialisiert die Klasse und lädt die Shapefiles und Umfragedaten.</p>
<p>:param shapefile_path: Pfad zum Shape-File der Gebiete.
:param outline_shapefile: Pfad zur Gemeindegrenze.
:param df: Pandas DataFrame mit Umfragedaten.
:param frage: Spaltenname der Umfragedaten, die visualisiert werden soll.
:param weight: (Optional) Spaltenname für Gewichte in den Umfragedaten.
:param multi_response: Gibt an, ob es sich um eine Mehrfachfrage handelt.
:param fixed_range: Ob die Farbschattierung über alle Werte gleich bleiben soll.
:param exclude_values: Liste von Werten, die ausgeschlossen werden sollen.
:param hide_quartier: Liste von Quartieren, die auf der Karte ausgeblendet werden sollen.</p></div>
<h3>Static methods</h3>
<dl>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.create_and_show_maps"><code class="name flex">
<span>def <span class="ident">create_and_show_maps</span></span>(<span>shapefile_path, outline_shapefile, df, frage, info, title_text, subtitle_text, tag_text, weight=None, exclude_values=None, fixed_range=True, multi_response=False, hide_quartier=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Erstellt die Maps für eine bestimmte Frage und fügt sie der Präsentation hinzu.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.add_maps_to_presentation"><code class="name flex">
<span>def <span class="ident">add_maps_to_presentation</span></span>(<span>self, info, title_text='Titel', subtitle_text=None, tag_text=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Fügt die generierten Karten von gfs_maps_kloten in die Präsentation ein.</p>
<p>:param info: Dictionary mit info.
:param title_text: Titel der Folie.
:param subtitle_text: Antwortmöglichkeiten.
:param tag_text: Frage unter der Grafik.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.compute_statistics"><code class="name flex">
<span>def <span class="ident">compute_statistics</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Berechnet die (gewichteten) Anzahl der Antworten und die Prozentwerte pro Quartier.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.extract_coordinates"><code class="name flex">
<span>def <span class="ident">extract_coordinates</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Extrahiert die Koordinaten der Gemeindegrenze.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.generate_maps"><code class="name flex">
<span>def <span class="ident">generate_maps</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Erstellt Maps für jede Antwortmöglichkeit der Frage.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.prepare_data"><code class="name flex">
<span>def <span class="ident">prepare_data</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Verknüpft die Geodaten mit den Umfragedaten und ordnet den Quartieren einen Code zu.
Dabei wird sichergestellt, dass sowohl "Gerlisberg" als auch "Gerlisberg, übriges Stadtgebiet"
immer denselben Code erhalten.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten.show_maps"><code class="name flex">
<span>def <span class="ident">show_maps</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Zeigt die Maps an.</p></div>
</dd>
</dl>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean"><code class="flex name class">
<span>class <span class="ident">gfs_maps_kloten_mean</span></span>
<span>(</span><span>shapefile_path, outline_shapefile, df, frage, weight=None, multi_response=False, fixed_range=True, exclude_values=None, hide_quartier=None, legend_title='Mittelwert')</span>
</code></dt>
<dd>
<div class="desc"><p>Initialisiert die Klasse und lädt die Shapefiles und Umfragedaten.</p>
<p>:param shapefile_path: Pfad zum Shape-File der Gebiete.
:param outline_shapefile: Pfad zur Gemeindegrenze.
:param df: Pandas DataFrame mit Umfragedaten.
:param frage: Spaltenname der Umfragedaten, die visualisiert werden soll.
:param weight: (Optional) Spaltenname für Gewichte in den Umfragedaten.
:param multi_response: Gibt an, ob es sich um eine Mehrfachfrage handelt.
:param fixed_range: Ob die Farbschattierung über alle Werte gleich bleiben soll.
:param exclude_values: Liste von Werten, die ausgeschlossen werden sollen.
:param hide_quartier: Liste von Quartieren, die auf der Karte ausgeblendet werden sollen.
:param legend_title: Titel für die Legende (default: "Mittelwert").</p></div>
<h3>Static methods</h3>
<dl>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.create_and_show_maps"><code class="name flex">
<span>def <span class="ident">create_and_show_maps</span></span>(<span>shapefile_path, outline_shapefile, df, frage, info, title_text, subtitle_text, tag_text, weight=None, exclude_values=None, fixed_range=True, multi_response=False, hide_quartier=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Erstellt die Maps für eine bestimmte Frage und fügt sie der Präsentation hinzu.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.add_maps_to_presentation"><code class="name flex">
<span>def <span class="ident">add_maps_to_presentation</span></span>(<span>self, info, title_text='Titel', subtitle_text=None, tag_text=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Fügt die generierten Karten von gfs_maps_kloten_mean in die Präsentation ein.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.compute_statistics"><code class="name flex">
<span>def <span class="ident">compute_statistics</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Berechnet den (gewichteten) Mittelwert der Antworten pro Quartier.
Falls ein Gewicht angegeben wurde, erfolgt die Berechnung des gewichteten Mittels.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.extract_coordinates"><code class="name flex">
<span>def <span class="ident">extract_coordinates</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Extrahiert die Koordinaten der Gemeindegrenze.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.generate_maps"><code class="name flex">
<span>def <span class="ident">generate_maps</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Erstellt Maps für den Mittelwert der Antworten pro Quartier,
für jede Antwortmöglichkeit, wenn multi_response aktiv ist.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.prepare_data"><code class="name flex">
<span>def <span class="ident">prepare_data</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Verknüpft die Geodaten mit den Umfragedaten.</p></div>
</dd>
<dt id="functions.graphy.create_maps.gfs_maps_kloten_mean.show_maps"><code class="name flex">
<span>def <span class="ident">show_maps</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Zeigt die Maps an.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="functions.graphy" href="index.html">functions.graphy</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="functions.graphy.create_maps.gfs_Maps" href="#functions.graphy.create_maps.gfs_Maps">gfs_Maps</a></code></h4>
<ul class="">
<li><code><a title="functions.graphy.create_maps.gfs_Maps.clip_coordinates" href="#functions.graphy.create_maps.gfs_Maps.clip_coordinates">clip_coordinates</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.create_map_figure" href="#functions.graphy.create_maps.gfs_Maps.create_map_figure">create_map_figure</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.create_maps" href="#functions.graphy.create_maps.gfs_Maps.create_maps">create_maps</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.create_maps_df" href="#functions.graphy.create_maps.gfs_Maps.create_maps_df">create_maps_df</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.get_foreground_shapes" href="#functions.graphy.create_maps.gfs_Maps.get_foreground_shapes">get_foreground_shapes</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.get_translations" href="#functions.graphy.create_maps.gfs_Maps.get_translations">get_translations</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.init_shape_file" href="#functions.graphy.create_maps.gfs_Maps.init_shape_file">init_shape_file</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_Maps.shape_clipping" href="#functions.graphy.create_maps.gfs_Maps.shape_clipping">shape_clipping</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="functions.graphy.create_maps.gfs_maps_kloten" href="#functions.graphy.create_maps.gfs_maps_kloten">gfs_maps_kloten</a></code></h4>
<ul class="">
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.add_maps_to_presentation" href="#functions.graphy.create_maps.gfs_maps_kloten.add_maps_to_presentation">add_maps_to_presentation</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.compute_statistics" href="#functions.graphy.create_maps.gfs_maps_kloten.compute_statistics">compute_statistics</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.create_and_show_maps" href="#functions.graphy.create_maps.gfs_maps_kloten.create_and_show_maps">create_and_show_maps</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.extract_coordinates" href="#functions.graphy.create_maps.gfs_maps_kloten.extract_coordinates">extract_coordinates</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.generate_maps" href="#functions.graphy.create_maps.gfs_maps_kloten.generate_maps">generate_maps</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.prepare_data" href="#functions.graphy.create_maps.gfs_maps_kloten.prepare_data">prepare_data</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten.show_maps" href="#functions.graphy.create_maps.gfs_maps_kloten.show_maps">show_maps</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean" href="#functions.graphy.create_maps.gfs_maps_kloten_mean">gfs_maps_kloten_mean</a></code></h4>
<ul class="">
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.add_maps_to_presentation" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.add_maps_to_presentation">add_maps_to_presentation</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.compute_statistics" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.compute_statistics">compute_statistics</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.create_and_show_maps" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.create_and_show_maps">create_and_show_maps</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.extract_coordinates" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.extract_coordinates">extract_coordinates</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.generate_maps" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.generate_maps">generate_maps</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.prepare_data" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.prepare_data">prepare_data</a></code></li>
<li><code><a title="functions.graphy.create_maps.gfs_maps_kloten_mean.show_maps" href="#functions.graphy.create_maps.gfs_maps_kloten_mean.show_maps">show_maps</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>